{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/JKmaster/Desktop/IntelligentParking/IntelligentParking/pages/map/map.vue?86bd","webpack:///C:/Users/JKmaster/Desktop/IntelligentParking/IntelligentParking/pages/map/map.vue?cd9a","webpack:///C:/Users/JKmaster/Desktop/IntelligentParking/IntelligentParking/pages/map/map.vue?edee","webpack:///C:/Users/JKmaster/Desktop/IntelligentParking/IntelligentParking/pages/map/map.vue?77e3","uni-app:///pages/map/map.vue","webpack:///C:/Users/JKmaster/Desktop/IntelligentParking/IntelligentParking/pages/map/map.vue?f929","webpack:///C:/Users/JKmaster/Desktop/IntelligentParking/IntelligentParking/pages/map/map.vue?f4bb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","subKey","latitude","longitude","index","markers","showMarkers","myLatitude","myLongitude","polyline","result","isSearch","currentRoute","routeName","routerColor","markerIcon","selectedMarkerIcon","activeType","isNavigate","arriveTime","getLocationTimer","computed","distance","arr","mapHeight","currentDistance","watch","handler","methods","searchClick","uni","url","checkRoute","checkType","goDetail","lat","lng","title","address","surplus","price","getPhoneSize","windowHeight","getUserLocation","success","scope","type","_this","icon","fail","searchParking","id","iconPath","width","height","callout","content","borderRadius","borderWidth","allMarkers","marker","lats","lngs","markerId","markerClick","goParking","coors","pl","points","color","borderColor","setTimeout","scrollTop","duration","isArrive","searchDetails","timestamp","realQuery","token","signType","signature","query","res","i","j","onLoad"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACc;;;AAGhE;AACgL;AAChL,gBAAgB,yLAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAopB,CAAgB,yqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC8CxqB;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC,aACA,qCACA,uCACA,+BACA;MAAA;MACAC,qBACA,8CACA,gDACA,wCACA;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC,0CAEA;IACA;IACAC;MAAA;MACA;MACA;QACAC,4FACApB,mBACAK;MACA;MACA;IACA;IACA;IACAgB;MACA;IACA;IACA;IACAC;MACA,4GACAjB;MACA;IACA;EAAA,EACA;EACAkB;IACAf;MACAgB;QACA;QACA;MACA;IACA;IACAF;MACAE;QACA;UACA;QACA;MACA;IACA;EACA;EACAC,yCACA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACAhB;UAAA;UACAT;UAAA;UACA;UACA0B;UACAC;QACA;;QAEA;QACAV;UACAC;QACA;MACA;IACA;IACA;IACAU;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEAX;cAAA;gBAAAY;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;MACA;MACAb;QACAc;UACA;UACA;YACAd;cACAe;YACA;UACA;UACA;UACA;YACAf;cACAe;YACA;UACA;QACA;MACA;MACA;MACAf;QACAgB;QAAA;QACAF;UACAG;UACAA;UACA,mDACAjB;YACAO;YACAW;UACA;QACA;QACAC;UACAnB;YACAO;YACAW;UACA;QACA;MACA;;MAEA;MACAlB;QACAiB;QACAA;QACA;MACA;MACA;MACAjB;QACAgB;MACA;MACA;MACAhB;QACAgB;MACA;IACA;IACA;IACAI;MACA;MACA;MACA;MACA;MACA;MACApB;QACA;AACA;AACA;AACA;AACA;QACAC;QACA;QACAa;UACA;UACA;UACA;YACA;YACA;cACAxC;cAAA;cACA+C;cAAA;cACAd;cAAA;cACAC;cAAA;cACApC;cAAA;cACAC;cAAA;cACAiD;cAAA;cACAC;cAAA;cACAC;cAAA;cACAC;gBAAA;gBACAC;gBACAC;gBACAC;cACA;YACA;;YAEA;YACAC;YACA;YACAC;;YAEA;YACAC;YACAC;UACA;;UAEA;UACA;YACAf;YACAA;YACAA;UACA;YACAA;YACAA;YACAA;UACA;UACAA;UACA;UACAA;YACAgB;UACA;;UAEA;UACAhB;QACA;MACA;MACAjB;QACAO;QACAW;MACA;IACA;IACA;IACAgB;MAAA;MACA;MACA;MAAA,2CACA;QAAA;MAAA;QAAA;UAAA;UACA;YACA;YACA;UACA;QACA;;QAEA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;;MAEA;MACA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;;MAEA;MACAnC;QACA;AACA;AACA;AACA;AACA;QACAC;QACAa;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;YACAsB;UACA;UACA;UACA;YACAC;cACAjE;cACAC;YACA;UACA;UACA4C;UACAA;UACAA;YACAqB;YACAC;YACAhB;YACAiB;YACAZ;UACA;QACA;MACA;;MAEA;MACA;QACA;QACA;QACA;QACA5B;UACAO;UACAO;YACA;cACA;cACA;gBACA1C;gBACAC;cACA;;cAEA;cACA2B;gBACAC;cACA;YACA;UACA;QACA;MACA;MACAwC;;MAEA;MACAzC;QACA0C;QACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;UACA;UACA;UACA5C;YACAO;YACAO;cAAA;cACA;gBACA;gBACA;kBACA1C;kBACAC;gBACA;;gBAEA;gBACA2B;kBACAC;gBACA;cACA;cACA;gBACAwC;kBACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAI;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;kBACAtC;kBACAW;gBACA;cAAA;gBAEA;gBACA4B;gBAEAC;kBACAC;kBAAA;kBACAF;kBAAA;kBACAG;kBAAA;kBACAlB;kBAAA;kBACAC;gBACA,GAEA;gBACAkB,4CAEA;gBACAC;kBACAH;kBAAA;kBACAF;kBAAA;kBACAG;kBAAA;kBACAC;kBAAA;kBACAnB;kBAAA;kBACAC;gBACA,GAEA;gBAAA;gBAAA,OAGAhC;cAAA;gBAAA;gBADAoD;gBAAA,MAKAA;kBAAA;kBAAA;gBAAA;gBAAA;kBACA7C;kBACAW;gBACA;cAAA;gBAAA,MAGAkC;kBAAA;kBAAA;gBAAA;gBACA;gBACAlF,wBACA;gBACAmF;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBACAC;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAA,MACApF;kBAAA;kBAAA;gBAAA;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA,MAIAoF;kBAAA;kBAAA;gBAAA;gBAAA,MACApF;kBAAA;kBAAA;gBAAA;gBACA;kBACAwC;kBACAD;gBACA;gBAAA;cAAA;gBAAA,MAGAvC;kBAAA;kBAAA;gBAAA;gBACA;kBACAwC;kBACAD;gBACA;gBAAA;cAAA;gBAnBA6C;gBAAA;gBAAA;cAAA;gBADAD;gBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA2BA;EAAA,EACA;EACAE;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACngBA;AAAA;AAAA;AAAA;AAA2uC,CAAgB,wsCAAG,EAAC,C;;;;;;;;;;;ACA/vC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/map/map.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/map/map.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./map.vue?vue&type=template&id=0b31f540&\"\nvar renderjs\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/map/map.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=template&id=0b31f540&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"top\">\r\n\t\t\t<view class=\"search\" @click=\"searchClick\">\r\n\t\t\t\t<uni-icons type=\"search\" size=\"20\" color=\"#ccc\"></uni-icons>\r\n\t\t\t\t<span>搜索目的地</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"router\">\r\n\t\t\t\t<view @click=\"checkRoute(0)\" :class=\"currentRoute === 0 ? 'active' : ''\">临停</view>\r\n\t\t\t\t<view @click=\"checkRoute(1)\" :class=\"currentRoute === 1 ? 'active' : ''\">预约</view>\r\n\t\t\t\t<view @click=\"checkRoute(2)\" :class=\"currentRoute === 2 ? 'active' : ''\">长租</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"map\" :style=\"{height:`${mapHeight}px`}\">\r\n\t\t\t<map id=\"map\" :style=\"{height:`${mapHeight}px`}\" :markers=\"markers\" :longitude=\"myLongitude\"\r\n\t\t\t\t:latitude=\"myLatitude\" :polyline=\"polyline\" @markertap=\"markerClick\">\r\n\t\t\t</map>\r\n\t\t</view>\r\n\t\t<view class=\"near\">\r\n\t\t\t<view class=\"twig\"></view>\r\n\t\t\t<view class=\"pointer\">上拉展开附近停车场</view>\r\n\t\t\t<span class=\"title\" @click=\"checkType(0)\" :class=\"activeType === 0 ? 'active' : ''\">全部</span>\r\n\t\t\t<span class=\"title\" @click=\"checkType(1)\" :class=\"activeType === 1 ? 'active' : ''\">路边停车场</span>\r\n\t\t\t<view class=\"details\">\r\n\t\t\t\t<view class=\"detail\" v-for=\"item of showMarkers\" :key=\"item.index\" @click=\"goDetail(item.index)\">\r\n\t\t\t\t\t<h1>{{item.title}}</h1>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<span class=\"left1\">{{item.address}}</span>\r\n\t\t\t\t\t\t<span class=\"right1\">{{distance[item.index]}}m</span>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<span class=\"left2\">\r\n\t\t\t\t\t\t\t<span class=\"car\" :class=\"routerColor[currentRoute]\">{{routeName[currentRoute]}}</span>\r\n\t\t\t\t\t\t\t<span class=\"surplus\">{{result[item.index].surplus}}</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span class=\" right2\">{{result[item.index].price}}</span>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<img src=\"/static/map-go.png\" class=\"go\" @click=\"goParking(item.index)\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// 引入 vuex 的 map 函数\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsubKey: 'MSTBZ-V3FKD-Y6X4K-PZEFD-JWUF5-R2B2J', // 管理员的AppID\r\n\t\t\t\tlatitude: 0, // 纬度\r\n\t\t\t\tlongitude: 0, // 经度\r\n\t\t\t\tindex: 0, // 当前地点的索引\r\n\t\t\t\tmarkers: [], // 原始的标记点信息\r\n\t\t\t\tshowMarkers: [], // 展示的标记点信息\r\n\t\t\t\tmyLatitude: 0, // 用户的纬度\r\n\t\t\t\tmyLongitude: 0, // 用户的经度\r\n\t\t\t\tpolyline: [], // 导航线段\r\n\t\t\t\tresult: [], // 标记点的信息\r\n\t\t\t\tisSearch: false, // 是否搜索最近的停车位\r\n\t\t\t\tcurrentRoute: 0, // 当前路由\r\n\t\t\t\trouteName: ['临停', '预约', '长租'], // 路由的名称\r\n\t\t\t\trouterColor: ['blue', 'green', 'purple'], // 路由的颜色\r\n\t\t\t\tmarkerIcon: [\r\n\t\t\t\t\t'/static/map-temporary-parking.png',\r\n\t\t\t\t\t'/static/map-parking-reservation.png',\r\n\t\t\t\t\t'/static/map-long-parking.png'\r\n\t\t\t\t], // 标记点图标\r\n\t\t\t\tselectedMarkerIcon: [\r\n\t\t\t\t\t'/static/map-selected-temporary-parking.png',\r\n\t\t\t\t\t'/static/map-selected-parking-reservation.png',\r\n\t\t\t\t\t'/static/map-selected-long-parking.png'\r\n\t\t\t\t], // 选中的标记点图标\r\n\t\t\t\tactiveType: 0, // 选中的停车场类型\r\n\t\t\t\tisNavigate: true, // 是否跳转\r\n\t\t\t\tarriveTime: 0, // 判断到达的\r\n\t\t\t\tgetLocationTimer: null, // 获取定位定时器\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 屏幕高度、登录凭证、密钥\r\n\t\t\t...mapState('user', ['windowHeight', 'token']),\r\n\t\t\t// 与每个标记点的距离\r\n\t\t\tdistance() {\r\n\t\t\t\tlet arr = []\r\n\t\t\t\tthis.markers.forEach(item => {\r\n\t\t\t\t\tarr.push(Math.ceil(Math.sqrt(Math.pow(item.latitude - this.myLatitude, 2) + Math.pow(item\r\n\t\t\t\t\t\t.longitude - this\r\n\t\t\t\t\t\t.myLongitude, 2)) / 360 * 300000000))\r\n\t\t\t\t})\r\n\t\t\t\treturn arr\r\n\t\t\t},\r\n\t\t\t// 地图组件的高度\r\n\t\t\tmapHeight() {\r\n\t\t\t\treturn this.windowHeight - 325;\r\n\t\t\t},\r\n\t\t\t// 与导航的标记点的距离\r\n\t\t\tcurrentDistance() {\r\n\t\t\t\tlet dis = Math.ceil(Math.sqrt(Math.pow(this.latitude - this.myLatitude, 2) + Math.pow(this.longitude - this\r\n\t\t\t\t\t.myLongitude, 2)) / 360 * 300000000);\r\n\t\t\t\treturn dis;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tisSearch: {\r\n\t\t\t\thandler() {\r\n\t\t\t\t\tthis.searchParking();\r\n\t\t\t\t\tthis.searchDetails();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcurrentDistance: {\r\n\t\t\t\thandler() {\r\n\t\t\t\t\tif (this.arriveTime === 0) {\r\n\t\t\t\t\t\tthis.isArrive();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations('user', ['updateWindowHeight', 'token']),\r\n\t\t\t// 点击搜索按钮\r\n\t\t\tsearchClick() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/search/search'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 切换路由\r\n\t\t\tcheckRoute(index) {\r\n\t\t\t\t// 修改 data 中的当前路由\r\n\t\t\t\tthis.currentRoute = index;\r\n\t\t\t\t// 将标记点索引重置为0\r\n\t\t\t\tthis.index = 0\r\n\t\t\t\t// 刷新地图\r\n\t\t\t\tthis.searchParking()\r\n\t\t\t},\r\n\t\t\t// 切换类型\r\n\t\t\tcheckType(index) {\r\n\t\t\t\tthis.activeType = index\r\n\t\t\t},\r\n\t\t\t// 跳转到详细页面\r\n\t\t\tgoDetail(index) {\r\n\t\t\t\tif (this.isNavigate) {\r\n\t\t\t\t\t// 跳转携带的参数——标记点详细信息\r\n\t\t\t\t\tlet detailMsg = {\r\n\t\t\t\t\t\tlat: this.markers[index].latitude, // 纬度\r\n\t\t\t\t\t\tlng: this.markers[index].longitude, // 经度\r\n\t\t\t\t\t\ttitle: this.markers[index].title, // 名称\r\n\t\t\t\t\t\taddress: this.markers[index].address, // 地址\r\n\t\t\t\t\t\tdistance: this.distance[index], // 距离\r\n\t\t\t\t\t\trouteName: this.routeName[this.currentRoute], // 路由名称\r\n\t\t\t\t\t\t// surplus: this.surplus[index], // 剩余空位\r\n\t\t\t\t\t\tsurplus: this.result[index].surplus,\r\n\t\t\t\t\t\tprice: this.result[index].price // 价格\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 路由跳转\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/detail/detail?detailMsg=${JSON.stringify(detailMsg)}`,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取当前手机的尺寸\r\n\t\t\tasync getPhoneSize() {\r\n\t\t\t\t// 手机的可用高度\r\n\t\t\t\tconst windowHeight = await uni.getWindowInfo().windowHeight\r\n\t\t\t\t// 修改 vuex 中的 windowHeight\r\n\t\t\t\tthis.updateWindowHeight(windowHeight)\r\n\t\t\t},\r\n\t\t\t// 获取用户定位\r\n\t\t\tgetUserLocation() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\t// 判断用户授权\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// 如果用户没有授权定位，则申请授权\r\n\t\t\t\t\t\tif (!res.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\t\tscope: 'scope.userLocation'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 如果用户没有授权后台持续定位，则申请授权\r\n\t\t\t\t\t\tif (!res.authSetting['scope.userLocationBackground']) {\r\n\t\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\t\tscope: 'scope.userLocationBackground'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 获取用户定位\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02', //默认为 wgs84 返回 gps 坐标，gcj02 返回可用于wx.openLocation的坐标\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_this.myLatitude = res.latitude;\r\n\t\t\t\t\t\t_this.myLongitude = res.longitude;\r\n\t\t\t\t\t\tif (_this.token !== '') _this.isSearch = true;\r\n\t\t\t\t\t\telse uni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请先登录',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请打开定位',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 实时监听用户定位\r\n\t\t\t\tuni.onLocationChange(function(res) {\r\n\t\t\t\t\t_this.myLatitude = res.latitude;\r\n\t\t\t\t\t_this.myLongitude = res.longitude;\r\n\t\t\t\t\tif (_this.token !== '') _this.isSearch = true;\r\n\t\t\t\t})\r\n\t\t\t\t// 后台监听用户定位\r\n\t\t\t\tuni.startLocationUpdateBackground({\r\n\t\t\t\t\ttype: 'gcj02'\r\n\t\t\t\t})\r\n\t\t\t\t// 前台监听用户定位\r\n\t\t\t\tuni.startLocationUpdate({\r\n\t\t\t\t\ttype: 'gcj02'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 搜索最近的10个停车场\r\n\t\t\tsearchParking() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tlet allMarkers = []; // 标记点的数组\r\n\t\t\t\tlet lats = []; // 停车场的维度\r\n\t\t\t\tlet lngs = []; // 停车场的经度\r\n\t\t\t\t// 发请求获取地图\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\t/* \r\n\t\t\t\t\t key：开发密钥\r\n\t\t\t\t\t keyword：关键字（通过 encodeURL 编码）\r\n\t\t\t\t\t boundary：边界\r\n\t\t\t\t\t */\r\n\t\t\t\t\turl: `https://apis.map.qq.com/ws/place/v1/search?boundary=nearby(${_this.myLatitude},${_this.myLongitude},1000)&keyword=${encodeURI('停车场')}&key=${this.subKey}`,\r\n\t\t\t\t\t// 成功的回调\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tlet pois = res.data.data // 所有地点的信息\r\n\t\t\t\t\t\t// 遍历所有地点信息的数组，将各种数据赋值\r\n\t\t\t\t\t\tfor (let i = 0; i < pois.length; i++) {\r\n\t\t\t\t\t\t\t// 标记点\r\n\t\t\t\t\t\t\tlet marker = {\r\n\t\t\t\t\t\t\t\tindex: i, // 标记点的索引\r\n\t\t\t\t\t\t\t\tid: Number(pois[i].id), // 标记点的ID\r\n\t\t\t\t\t\t\t\ttitle: pois[i].title, // 店名\r\n\t\t\t\t\t\t\t\taddress: pois[i].address, // 地址\r\n\t\t\t\t\t\t\t\tlatitude: pois[i].location.lat, // 纬度\r\n\t\t\t\t\t\t\t\tlongitude: pois[i].location.lng, // 精度\r\n\t\t\t\t\t\t\t\ticonPath: _this.markerIcon[_this.currentRoute], // 显示的图标\r\n\t\t\t\t\t\t\t\twidth: 30, // 图标的宽\r\n\t\t\t\t\t\t\t\theight: 30, // 图标的高\r\n\t\t\t\t\t\t\t\tcallout: { // 点击气泡\r\n\t\t\t\t\t\t\t\t\tcontent: pois[i].title,\r\n\t\t\t\t\t\t\t\t\tborderRadius: 10,\r\n\t\t\t\t\t\t\t\t\tborderWidth: 10\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// 将标记点添加到标记点的数组的后面\r\n\t\t\t\t\t\t\tallMarkers.push(marker);\r\n\t\t\t\t\t\t\t// 将标记点清空\r\n\t\t\t\t\t\t\tmarker = null;\r\n\r\n\t\t\t\t\t\t\t// 向parkingIDs数组添加停车场的ID\r\n\t\t\t\t\t\t\tlats.push(String(pois[i].location.lat));\r\n\t\t\t\t\t\t\tlngs.push(String(pois[i].location.lng));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 修改 data 中的 latitude、longitude、markers\r\n\t\t\t\t\t\tif (_this.index < allMarkers.length) {\r\n\t\t\t\t\t\t\t_this.latitude = allMarkers[_this.index].latitude;\r\n\t\t\t\t\t\t\t_this.longitude = allMarkers[_this.index].longitude;\r\n\t\t\t\t\t\t\t_this.index++;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.index = 0;\r\n\t\t\t\t\t\t\t_this.latitude = allMarkers[_this.index].latitude;\r\n\t\t\t\t\t\t\t_this.longitude = allMarkers[_this.index].longitude;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.markers = allMarkers;\r\n\t\t\t\t\t\t// 默认选中最近的车位\r\n\t\t\t\t\t\t_this.markerClick({\r\n\t\t\t\t\t\t\tmarkerId: _this.markers[0].id\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t// 搜索详细信息\r\n\t\t\t\t\t\t_this.searchDetails(lats, lngs);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '已为您查询最近的停车场',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 标记点点击\r\n\t\t\tmarkerClick(e) {\r\n\t\t\t\t// 存放上一次点击的index\r\n\t\t\t\tconst _index = this.index\r\n\t\t\t\tfor (const value of this.markers) {\r\n\t\t\t\t\tif (value.id === e.markerId) {\r\n\t\t\t\t\t\tthis.index = value.index; // 终点索引\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 切换普通标记点的图片路径\r\n\t\t\t\tthis.markers[_index].iconPath = this.markerIcon[this.currentRoute];\r\n\r\n\t\t\t\t// 切换选中标记点的图片路径\r\n\t\t\t\tthis.markers[this.index].iconPath = this.selectedMarkerIcon[this.currentRoute];\r\n\t\t\t\tthis.showMarkers = [];\r\n\t\t\t\tthis.markers.forEach((item, index) => {\r\n\t\t\t\t\tif (index === this.index) return this.showMarkers.unshift(item);\r\n\t\t\t\t\tthis.showMarkers.push(item);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 导航\r\n\t\t\tgoParking(index) {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\t// isNavigate赋值：用于防止导航过程中跳转到标记点详细页面\r\n\t\t\t\tthis.isNavigate = false;\r\n\t\t\t\tthis.latitude = this.markers[index].latitude; // 终点的纬度\r\n\t\t\t\tthis.longitude = this.markers[index].longitude; // 终点的经度\r\n\r\n\t\t\t\t// 发起请求展示导航路线\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\t/* \r\n\t\t\t\t\t key：开发key\r\n\t\t\t\t\t from：起点位置坐标\r\n\t\t\t\t\t to：终点位置坐标\r\n\t\t\t\t\t */\r\n\t\t\t\t\turl: `https://apis.map.qq.com/ws/direction/v1/driving/?key=${_this.subKey}&from=${_this.myLatitude},${_this.myLongitude}&to=${_this.latitude},${_this.longitude}`,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// 路线方案\r\n\t\t\t\t\t\tlet route = res.data.result.routes[0]\r\n\t\t\t\t\t\t// 方案路线坐标点串\r\n\t\t\t\t\t\tlet coors = route.polyline\r\n\t\t\t\t\t\t// 导航线段的坐标点\r\n\t\t\t\t\t\tlet pl = []\r\n\t\t\t\t\t\t//坐标解压（返回的点串坐标，通过前向差分进行压缩）\r\n\t\t\t\t\t\tconst kr = 1000000;\r\n\t\t\t\t\t\tfor (let i = 2; i < coors.length; i++) {\r\n\t\t\t\t\t\t\tcoors[i] = Number(coors[i - 2]) + Number(coors[i]) / kr;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//将解压后的坐标放入点串数组pl中\r\n\t\t\t\t\t\tfor (let i = 0; i < coors.length; i += 2) {\r\n\t\t\t\t\t\t\tpl.push({\r\n\t\t\t\t\t\t\t\tlatitude: coors[i],\r\n\t\t\t\t\t\t\t\tlongitude: coors[i + 1]\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.latitude = pl[0].latitude\r\n\t\t\t\t\t\t_this.longitude = pl[0].longitude\r\n\t\t\t\t\t\t_this.polyline = [{\r\n\t\t\t\t\t\t\tpoints: pl,\r\n\t\t\t\t\t\t\tcolor: '#58c16c',\r\n\t\t\t\t\t\t\twidth: 6,\r\n\t\t\t\t\t\t\tborderColor: '#2f693c',\r\n\t\t\t\t\t\t\tborderWidth: 1\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// 定时器\r\n\t\t\t\tlet timer = function() {\r\n\t\t\t\t\t// isNavigate赋值\r\n\t\t\t\t\tthis.isNavigate = true\r\n\t\t\t\t\t// 展示model框，判断是否到达\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '是否已经到达目的地',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif (res.confirm === true) {\r\n\t\t\t\t\t\t\t\t// 用户坐标\r\n\t\t\t\t\t\t\t\tconst coordinate = {\r\n\t\t\t\t\t\t\t\t\tlatitude: _this.result[index].entranceLat,\r\n\t\t\t\t\t\t\t\t\tlongitude: _this.result[index].entranceLng\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// 跳转到parking页面\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl: `/pages/parking/parking?coordinate=${JSON.stringify(coordinate)}`\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(timer, 5000);\r\n\r\n\t\t\t\t// 滚动到页面顶部\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tscrollTop: 0,\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 判断是否到达\r\n\t\t\tisArrive() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\t// 判断到达定时器是否为0（即可以显示model框）\r\n\t\t\t\tif (this.arriveTime == 0) {\r\n\t\t\t\t\t// 判断距离是否小于等于10m\r\n\t\t\t\t\tif (this.currentDistance <= 10) {\r\n\t\t\t\t\t\t// 将到达定时器设置为1\r\n\t\t\t\t\t\tthis.arriveTime = 1;\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '是否已经到达目的地',\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm === true) {\r\n\t\t\t\t\t\t\t\t\t// 用户坐标\r\n\t\t\t\t\t\t\t\t\tconst coordinate = {\r\n\t\t\t\t\t\t\t\t\t\tlatitude: _this.result[index].entranceLat,\r\n\t\t\t\t\t\t\t\t\t\tlongitude: _this.result[index].entranceLng\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// 跳转到parking页面\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: `/pages/parking/parking?coordinate=${JSON.stringify(coordinate)}`\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (res.cancel === true) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.arriveTime = 0\r\n\t\t\t\t\t\t\t\t\t}, 10000)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 搜索详细信息\r\n\t\t\tasync searchDetails(lats, lngs) {\r\n\t\t\t\tif (this.token == '') return uni.showToast({\r\n\t\t\t\t\ttitle: '请先登录',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 时间戳\r\n\t\t\t\tconst timestamp = Date.now();\r\n\r\n\t\t\t\tlet realQuery = {\r\n\t\t\t\t\ttoken: this.token, // 用户凭证\r\n\t\t\t\t\ttimestamp: timestamp, // 时间戳\r\n\t\t\t\t\tsignType: 'MD5', // 签名类型\r\n\t\t\t\t\tlats: lats, // 停车场的维度\r\n\t\t\t\t\tlngs: lngs // 停车场的经度\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 加密签名\r\n\t\t\t\tlet signature = this.getSignature(realQuery);\r\n\r\n\t\t\t\t// 请求参数\r\n\t\t\t\tlet query = {\r\n\t\t\t\t\ttoken: this.token, // 用户凭证\r\n\t\t\t\t\ttimestamp: timestamp, // 时间戳\r\n\t\t\t\t\tsignType: 'MD5', // 签名类型\r\n\t\t\t\t\tsignature: signature, // 签名\r\n\t\t\t\t\tlats: lats, // 纬度\r\n\t\t\t\t\tlngs: lngs // 经度\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 发起请求\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata: res\r\n\t\t\t\t} = await uni.$http.post('/api/park/areaDetails', query);\r\n\r\n\r\n\t\t\t\t// 请求失败\r\n\t\t\t\tif (res.code != 200) return uni.showToast({\r\n\t\t\t\t\ttitle: '获取信息失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 请求成功\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tthis.result = [];\r\n\t\t\t\t\tconst data = res.data.result;\r\n\t\t\t\t\t// 向this.result中填充数据\r\n\t\t\t\t\tfor (let i = 0; i < lats.length; i++) {\r\n\t\t\t\t\t\tfor (let j = 0; j < lats.length; j++) {\r\n\t\t\t\t\t\t\tif (data[j] != null && j != lats.length - 1) {\r\n\t\t\t\t\t\t\t\tif (data[j].lat === Number(lats[i]) && data[j].lng === Number(lngs[i])) {\r\n\t\t\t\t\t\t\t\t\tthis.result.push(data[j]);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j == lats.length - 1) {\r\n\t\t\t\t\t\t\t\tif (data[j] == null) {\r\n\t\t\t\t\t\t\t\t\tthis.result.push({\r\n\t\t\t\t\t\t\t\t\t\tprice: '-',\r\n\t\t\t\t\t\t\t\t\t\tsurplus: '-'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (data[j].latitude !== Number(lats[i]) || data[j].lng !== Number(lngs[i])) {\r\n\t\t\t\t\t\t\t\t\tthis.result.push({\r\n\t\t\t\t\t\t\t\t\t\tprice: '-',\r\n\t\t\t\t\t\t\t\t\t\tsurplus: '-'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getPhoneSize()\r\n\t\t\tthis.getUserLocation()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tview {\r\n\t\t.top {\r\n\t\t\tpadding-top: 10rpx;\r\n\r\n\t\t\t.search {\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tbackground-color: #e6e6e6;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\tmargin: 0 auto;\r\n\t\t\t\tpadding-left: 30rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\tcolor: #ccc;\r\n\r\n\t\t\t\tspan {\r\n\t\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.router {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\r\n\t\t\t\tview {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tcolor: #000;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.active {\r\n\t\t\t\t\tcolor: #4186fd;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.map {\r\n\t\t\toverflow: hidden;\r\n\t\t\t// height: 520rpx;\r\n\r\n\t\t\t#map {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\t// height: 520rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.near {\r\n\t\t\toverflow: hidden;\r\n\t\t\theight: 3100rpx;\r\n\t\t\t// background-color: pink;\r\n\r\n\t\t\t.twig {\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\tmargin: 20rpx auto;\r\n\t\t\t\tborder: 6rpx solid darkgray;\r\n\t\t\t\tborder-radius: 6rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.pointer {\r\n\t\t\t\tcolor: darkgray;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tmargin-bottom: 40rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.title {\r\n\t\t\t\tbackground-color: #e6e6e6;\r\n\t\t\t\tcolor: darkgray;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\tpadding: 8rpx 16rpx;\r\n\t\t\t\tfont-size: 26rpx;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.active {\r\n\t\t\t\tcolor: #4186fd;\r\n\t\t\t\tbackground-color: #b6e5f8;\r\n\t\t\t}\r\n\r\n\t\t\t.details {\r\n\t\t\t\tmargin: 40rpx auto 0rpx;\r\n\t\t\t\theight: 2500rpx;\r\n\r\n\t\t\t\t.detail {\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tmargin: 0rpx auto 40rpx;\r\n\t\t\t\t\theight: 250rpx;\r\n\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tbox-shadow: 0rpx 0rpx 10rpx darkgray;\r\n\r\n\t\t\t\t\th1 {\r\n\t\t\t\t\t\tpadding: 30rpx 0 30rpx 30rpx;\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\t\t/* 1、先强制一行内显示文本（默认 normal 自动换行） */\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t/* 2、超出的部分隐藏 */\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t/* 3、文字用省略号替代超出的部分 */\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tview {\r\n\t\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t\t.left1 {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tleft: 30rpx;\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\twidth: 60%;\r\n\t\t\t\t\t\t\t/* 1、先强制一行内显示文本（默认 normal 自动换行） */\r\n\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\t/* 2、超出的部分隐藏 */\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t/* 3、文字用省略号替代超出的部分 */\r\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.right1 {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tright: 30rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.left2 {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tleft: 30rpx;\r\n\r\n\t\t\t\t\t\t\ttop: 66rpx;\r\n\r\n\t\t\t\t\t\t\t.car {\r\n\t\t\t\t\t\t\t\tpadding: 8rpx;\r\n\t\t\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.blue {\r\n\t\t\t\t\t\t\t\tcolor: blue;\r\n\t\t\t\t\t\t\t\tbackground-color: lightblue;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.green {\r\n\t\t\t\t\t\t\t\tcolor: green;\r\n\t\t\t\t\t\t\t\tbackground-color: lightgreen;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.purple {\r\n\t\t\t\t\t\t\t\tcolor: purple;\r\n\t\t\t\t\t\t\t\tbackground-color: lightsteelblue;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.surplus {\r\n\t\t\t\t\t\t\t\tpadding-left: 10rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.right2 {\r\n\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\tright: 30rpx;\r\n\t\t\t\t\t\t\ttop: 66rpx\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.go {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\ttop: 30rpx;\r\n\t\t\t\t\t\tright: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./map.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1682667330421\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}